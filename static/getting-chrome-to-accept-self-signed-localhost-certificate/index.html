<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Getting Chrome to accept self-signed localhost certificate</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=b76bda3809">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="admin">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Getting Chrome to accept self-signed localhost certificate">
    <meta property="og:description" content="解决方法来自： https://serverfault.com/questions/880804/can-not-get-rid-of-neterr-cert-common-name-invalid-error-in-chrome-with-self https://superuser.com/questions/947061/openssl-unable-to-find-distinguished-name-in-config https://stackoverflow.com/questions/43665243/invalid-self-signed-ssl-cert-subject-alternative-name-missing 出现的问题： 1.COMMON_NAME_INVALID 2.SUBJECT_ALT_NAME_INVALID 3.unable to find ‘distinguished_name’ in config 4.error loading extension section SAN 原因： 1.与2相关 2. 1）Specifically, this">
    <meta property="og:url" content="http://10.0.2.15:2373/getting-chrome-to-accept-self-signed-localhost-certificate/">
    <meta property="article:published_time" content="2018-02-07T10:50:42.000Z">
    <meta property="article:modified_time" content="2018-02-07T10:56:45.000Z">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Getting Chrome to accept self-signed localhost certificate">
    <meta name="twitter:description" content="解决方法来自： https://serverfault.com/questions/880804/can-not-get-rid-of-neterr-cert-common-name-invalid-error-in-chrome-with-self https://superuser.com/questions/947061/openssl-unable-to-find-distinguished-name-in-config https://stackoverflow.com/questions/43665243/invalid-self-signed-ssl-cert-subject-alternative-name-missing 出现的问题： 1.COMMON_NAME_INVALID 2.SUBJECT_ALT_NAME_INVALID 3.unable to find ‘distinguished_name’ in config 4.error loading extension section SAN 原因： 1.与2相关 2. 1）Specifically, this">
    <meta name="twitter:url" content="http://10.0.2.15:2373/getting-chrome-to-accept-self-signed-localhost-certificate/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="admin">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "admin",
        "logo": "https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"
    },
    "author": {
        "@type": "Person",
        "name": "admin",
        "url": "http://10.0.2.15:2373/404/",
        "sameAs": []
    },
    "headline": "Getting Chrome to accept self-signed localhost certificate",
    "url": "http://10.0.2.15:2373/getting-chrome-to-accept-self-signed-localhost-certificate/",
    "datePublished": "2018-02-07T10:50:42.000Z",
    "dateModified": "2018-02-07T10:56:45.000Z",
    "description": "解决方法来自： https://serverfault.com/questions/880804/can-not-get-rid-of-neterr-cert-common-name-invalid-error-in-chrome-with-self https://superuser.com/questions/947061/openssl-unable-to-find-distinguished-name-in-config https://stackoverflow.com/questions/43665243/invalid-self-signed-ssl-cert-subject-alternative-name-missing 出现的问题： 1.COMMON_NAME_INVALID 2.SUBJECT_ALT_NAME_INVALID 3.unable to find ‘distinguished_name’ in config 4.error loading extension section SAN 原因： 1.与2相关 2. 1）Specifically, this",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://10.0.2.15:2373/"
    }
}
    </script>

    <script src="../public/ghost-sdk.js?v=b76bda3809"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "c468a4ccc290"
});
</script>
    <meta name="generator" content="Ghost 1.24">
    <link rel="alternate" type="application/rss+xml" title="admin" href="../rss/index.html">

</head>
<body class="post-template">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../"><img src="https://casper.ghost.org/v1.0.0/images/ghost-logo.svg" alt="admin"></a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../">Home</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://10.0.2.15:2373/rss/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2018-02-07">7 February 2018</time>
                </section>
                <h1 class="post-full-title">Getting Chrome to accept self-signed localhost certificate</h1>
            </header>


            <section class="post-full-content">
                <div class="kg-card-markdown"><p>解决方法来自：<br>
<code>https://serverfault.com/questions/880804/can-not-get-rid-of-neterr-cert-common-name-invalid-error-in-chrome-with-self</code><br>
<code>https://superuser.com/questions/947061/openssl-unable-to-find-distinguished-name-in-config</code><br>
<code>https://stackoverflow.com/questions/43665243/invalid-self-signed-ssl-cert-subject-alternative-name-missing</code></p>
<p>出现的问题：<br>
1.COMMON_NAME_INVALID<br>
2.SUBJECT_ALT_NAME_INVALID<br>
3.unable to find ‘distinguished_name’ in config<br>
4.error loading extension section SAN</p>
<p>原因：<br>
1.与2相关<br>
2.<br>
1）Specifically, this is due to <code>tools.ietf.org/html/rfc6125#section-5.7.3.1</code><br>
which states “For TLS authentication with X.509 certificates, an identity from the DNS namespace MUST be checked against each subjectAltName extension of type dNSName present in the certificate. If no such extension is present, then the identity MUST be compared to the (most specific) Common Name in the Subject field of the certificate.” So, if any SAN exists then the CN is not checked.<br>
2）Chrome no longer accepts certificates that fallback to common name. So even if a SAN does not exist, the CN is not checked. So the SAN seems mandatory</p>
<p>3.缺少ssl.cnf中的一些信息<br>
4.ssl.cnf缺少[SAN]信息</p>
<p>openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -sha256 -subj '/CN=10.0.1.13/ST=Shanghai/L=Qingpu/O=Sheep Soft/' -keyout private_seafile.key -out seafile.crt -reqexts SAN -extensions SAN -config &lt;(cat ssl.cnf)</p>
<p><code>ssl.cnf</code>:</p>
<p>[req] req_extensions = v3_req distinguished_name = req_distinguished_name [req_distinguished_name] [v3_req] authorityKeyIdentifier=keyid,issuer basicConstraints=CA:FALSE keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment [SAN] subjectAltName = IP:10.0.1.13</p>
</div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <span class="avatar-wrapper"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"></path></g></svg>
</span>
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="http://10.0.2.15:2373/404/">admin</a></h4>
            <p>0</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="http://10.0.2.15:2373/404/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

                <article class="post-card post no-image">
    <div class="post-card-content">
        <a class="post-card-content-link" href="../vagrant-freezes-on-ssh-auth-method-private-key/">
            <header class="post-card-header">
                <h2 class="post-card-title">Vagrant freezes on 'SSH auth method: private key'</h2>
            </header>
            <section class="post-card-excerpt">
                <p>github issue: https://github.com/hashicorp/vagrant/issues/8157 debug: Intel Virtualization VT-x: CPU:G2010,supported BIOS check: Virtualization not enabled after enabling virtualization in bios,vargant still stuck at private key but</p>
            </section>
        </a>
        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        admin
                    </div>

                        <a href="http://10.0.2.15:2373/404/" class="static-avatar author-profile-image"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"></path></g></svg>
</a>
                </li>
            </ul>

            <span class="reading-time">1 min read</span>

        </footer>
    </div>
</article>

                <article class="post-card post no-image">
    <div class="post-card-content">
        <a class="post-card-content-link" href="../usrbinenv-name--e4-b8-8e-pathtoname-e7-9a-84-e4-bc-98-e5-8a-a3/">
            <header class="post-card-header">
                <h2 class="post-card-title">“#! /usr/bin/env NAME” 与”#! /path/to/NAME”的优劣</h2>
            </header>
            <section class="post-card-excerpt">
                <p>以python为例: #! /usr/bin/env python 优点和缺点都是: 脚本会使用首先出现的用户的$PATH中的python路径 借助环境变量$PATH 也就意味着不同的使用者执行同一个脚本,脚本的执行可能出现区别.对某一用户,执行的是/usr/bin/python.对另一个用户而言,执行的是/home/phred/bin/python,由于python的版本不同,脚本执行时或许会出错. 而$PATH不同在CRON任务中有特殊情况,一般cron的环境是受限制的,$PATH很可能只是/usr/bin:/bin,所以cron执行的脚本,</p>
            </section>
        </a>
        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        admin
                    </div>

                        <a href="http://10.0.2.15:2373/404/" class="static-avatar author-profile-image"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"></path></g></svg>
</a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>
    </div>
</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>admin</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">Getting Chrome to accept self-signed localhost certificate</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Getting%20Chrome%20to%20accept%20self-signed%20localhost%20certificate&amp;url=http://10.0.2.15:2373/getting-chrome-to-accept-self-signed-localhost-certificate/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://10.0.2.15:2373/getting-chrome-to-accept-self-signed-localhost-certificate/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">admin</a> © 2018</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=b76bda3809"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
